


<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1.4. Objetos &#8212; documentación de Javascript - </title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/translations.js"></script>
    
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="next" title="1.5. Programación asínscrona" href="05.async.html" />
    <link rel="prev" title="1.3. Funciones" href="03.funciones.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="05.async.html" title="1.5. Programación asínscrona"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="03.funciones.html" title="1.3. Funciones"
             accesskey="P">anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">documentación de Javascript - </a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U"><span class="section-number">1. </span>Particularidades</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">1.4. </span>Objetos</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="objetos">
<span id="id1"></span><h1><span class="section-number">1.4. </span>Objetos<a class="headerlink" href="#objetos" title="Enlazar permanentemente con este título">¶</a></h1>
<p>En <em>Javascript</em> <strong>NO</strong> existen clases<a class="footnote-reference brackets" href="#id10" id="id2">1</a>, sólo objetos y éstos no son más que
colecciones de atributos, los cuales pueden ser también funciones, esto es,
métodos:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">rectangulo</span> <span class="o">=</span> <span class="p">{</span>
   <span class="nx">altura</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
   <span class="nx">anchura</span><span class="o">:</span> <span class="mi">7</span><span class="p">,</span>
   <span class="nx">area</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>  <span class="c1">// Como este atributo es una función, actúa como método.</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">altura</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">anchura</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">rectangulo</span><span class="p">.</span><span class="nx">area</span><span class="p">());</span>  <span class="c1">// 70.</span>
<span class="nx">rectangulo</span><span class="p">.</span><span class="nx">anchura</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">rectangulo</span><span class="p">.</span><span class="nx">area</span><span class="p">());</span>  <span class="c1">// 80.</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Al ser las funciones ciudadanas de primera clase en <em>Javascript</em>, los
métodos son atributos cuyo valor es una función. Por este motivo, podemos
incluir los métodos dentro del término atributos y así se hará a lo largo del
texto. La fórmula expuesta en el código para definir <code class="docutils literal notranslate"><span class="pre">rectangulo</span></code> deja
clara esta equivalencia, puesto que <em>area</em> se define de modo análogo a
<em>anchura</em> y <em>altura</em>. Sin embargo, hay una sintaxis simplificada para definir
métodos que enmascara esta equivalencia:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">rectangulo</span> <span class="o">=</span> <span class="p">{</span>
   <span class="nx">altura</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
   <span class="nx">anchura</span><span class="o">:</span> <span class="mi">7</span><span class="p">,</span>
   <span class="nx">area</span><span class="p">()</span> <span class="p">{</span>  <span class="c1">// Como este atributo es una función, actúa como método.</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">altura</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">anchura</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>La utilizaremos ya que hemos dejado clara la naturaleza de los métodos como
<em>atributos función</em>.</p>
</div>
<p>Así, pues, hemos construido un objeto ex novo a diferencia de todos esos
lenguajes orientados a objetos en que la creación de una clase implica la
instanciación de una clase. Comenzaremos por describir cómo son estos objetos
sin entrar a discutir estrategias para tener objetos semejantes (o sea, de una
misma <em>clase</em>) o parecidos<a class="footnote-reference brackets" href="#id11" id="id3">2</a></p>
<div class="section" id="caracteristicas">
<h2><span class="section-number">1.4.1. </span>Características<a class="headerlink" href="#caracteristicas" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="section" id="definicion">
<h3><span class="section-number">1.4.1.1. </span>Definición<a class="headerlink" href="#definicion" title="Enlazar permanentemente con este título">¶</a></h3>
<p>En el ejemplo anterior, ya se expuesto la sintaxis básica para definir un
objeto: un diccionario de pares clave/valor donde la clave es una cadena o un
<a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol">símbolo</a>
y se separa del valor mediante dos puntos. Si los valores se encuentran en
variables aparte cuyo nombre coincide con el que tendrá la clave:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">anchura</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">altura</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">rectangulo</span> <span class="o">=</span> <span class="p">{</span>
   <span class="nx">altura</span><span class="o">:</span> <span class="nx">altura</span><span class="p">,</span>
   <span class="nx">anchura</span><span class="o">:</span> <span class="nx">anchura</span><span class="p">,</span>
   <span class="nx">area</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">altura</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">anchura</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>entonces puede usarse una sintaxis simplificada:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">anchura</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">altura</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">rectangulo</span> <span class="o">=</span> <span class="p">{</span>
   <span class="nx">altura</span><span class="p">,</span>
   <span class="nx">anchura</span><span class="p">,</span>
   <span class="nx">area</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">altura</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">anchura</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>incluso para el método área, aunque como en este caso no hemos podido hacer uso
de la simplificación al no haber definido aparte la función <em>area</em>,</p>
<p>Por supuesto, tenemos total libertad para extender el objeto añadiendo nuevos
atributos:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rectangulo</span><span class="p">.</span><span class="nx">escalar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">factor</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">this</span><span class="p">.</span><span class="nx">altura</span> <span class="o">*=</span> <span class="nx">factor</span><span class="p">;</span>
   <span class="k">this</span><span class="p">.</span><span class="nx">anchura</span> <span class="o">*=</span> <span class="nx">factor</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>o para eliminar atributos ya definidos:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="k">delete</span> <span class="nx">rectangulo</span><span class="p">.</span><span class="nx">escalar</span><span class="p">;</span>
</pre></div>
</div>
<p>Obsérvese que al hacer las definiciones, la clave no se ha escrito entre
comillas, sino sin ellas, pese a lo cual se sobreentiende como un literal. Si la
clave que se desea usar, se encuentra dentro de una variable, entonces se
requiere una sintaxis especial que haga entender al procesador que la clave no
es literal:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">d1</span> <span class="o">=</span> <span class="s2">&quot;altura&quot;</span><span class="p">,</span> <span class="nx">d2</span> <span class="o">=</span> <span class="s2">&quot;anchura&quot;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">rectangulo</span> <span class="o">=</span> <span class="p">{</span>
   <span class="p">[</span><span class="nx">d1</span><span class="p">]</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
   <span class="p">[</span><span class="nx">d2</span><span class="p">]</span><span class="o">:</span>  <span class="mi">7</span><span class="p">,</span>
   <span class="nx">area</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="nx">d1</span><span class="p">]</span><span class="o">*</span><span class="k">this</span><span class="p">[</span><span class="nx">d2</span><span class="p">];</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="uso">
<h3><span class="section-number">1.4.1.2. </span>Uso<a class="headerlink" href="#uso" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para utilizar los atributos basta con usar la sintaxis del punto:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">rectangulo</span><span class="p">.</span><span class="nx">altura</span><span class="p">);</span>  <span class="c1">// 10.</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">rectangulo</span><span class="p">.</span><span class="nx">area</span><span class="p">());</span>  <span class="c1">// 70.</span>
<span class="nx">rectangulo</span><span class="p">.</span><span class="nx">area</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">rectangulo</span><span class="p">.</span><span class="nx">area</span><span class="p">());</span>  <span class="c1">// 80.</span>
</pre></div>
</div>
<p>aunque también podemos usar una sintaxis basada en corchetas:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rectangulo</span><span class="p">[</span><span class="s2">&quot;anchura&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="nx">rectangulo</span><span class="p">[</span><span class="s2">&quot;area&quot;</span><span class="p">]();</span>  <span class="c1">// 80.</span>
</pre></div>
</div>
<p>Esta segunda sintaxis es interesante cuando el nombre de la propiedad la tenemos
dentro de una variable:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">dimension</span> <span class="o">=</span> <span class="s2">&quot;anchura&quot;</span><span class="p">;</span>
<span class="nx">rectangulo</span><span class="p">[</span><span class="nx">dimension</span><span class="p">]</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="descriptores">
<span id="object-descriptors"></span><h3><span class="section-number">1.4.1.3. </span>Descriptores<a class="headerlink" href="#descriptores" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Hasta ahora, al añadir atributos a un objeto nos hemos dedicado a enchufarlos
sin más. Sin embargo, cada atributo posee un descriptor que define las
caracteríosticas del atributo dentro del objeto.</p>
<dl>
<dt><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor">Object.getOwnPropertyDescriptor()</a></dt><dd><p>Muestra el desriptor del atributo de un objeto:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyDescriptor</span><span class="p">(</span><span class="nx">rectangulo</span><span class="p">,</span> <span class="s2">&quot;altura&quot;</span><span class="p">)</span>
<span class="p">{</span> <span class="nx">value</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">writable</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">enumerable</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">configurable</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}</span>
</pre></div>
</div>
</dd>
</dl>
<p>Además del valor, obtenemos que el atributo es:</p>
<ul class="simple">
<li><p><em class="dfn">writable</em>, razón por la cual podemos darle un valor distinto.</p></li>
<li><p><em class="dfn">configurable</em>, razón por la cual podríamos cambiar estas propias
características, haciendo que, por ejemplo, el valor fuera inmutable.</p></li>
<li><p><em class="dfn">enumerable</em>, lo que significa que el atributo será más visible, esto es,
que algunas funciones que veremos más adelante serán capaces de ver que este
atributo existe<a class="footnote-reference brackets" href="#id12" id="id4">3</a>.</p></li>
</ul>
<p>Hay dos <strong>tipos</strong> de descriptores:</p>
<ul class="simple">
<li><p><em class="dfn">Descriptor de dato</em>, que describe un atributo normal como el anterior y
que se caracteriza por tener un valor (<strong>value</strong>).</p></li>
<li><p><em class="dfn">Descriptor de acceso</em>, que describe lo que en <em>Python</em> se denomina
<em>propiedad</em>, esto es, un dato que dispone de un <em>setter</em> para establecer su
valor y un <em>getter</em> para devolverlo. Por ejemplo, podríamos convertir las dos
dimensiones de nuestro rectángulo en sendas propiedades para controlar que
siempre introduzcan un número como valor. En este caso, el descriptor, en vez
de disponer <em>value</em>, dispondrá <em>set</em> y <em>get</em>, Tampoco tendrá la
característicva <em>writable</em>, que no tiene sentido, puesto que si se desea que
la propiedad sea de sólo lectura, basta con no definir el <em>setter</em>. Las otras
dos características, sin embargo, siguen teniendo validez. Dejaremos la
discusión de las <a class="reference internal" href="#object-properties"><span class="std std-ref">propiedades</span></a> para el siguiente epígrafe.</p></li>
</ul>
<p>Al definir un atributo (bien al crear un objeto, bien añadiéndolo después), las
características <code class="docutils literal notranslate"><span class="pre">writable</span></code>, <code class="docutils literal notranslate"><span class="pre">enumerable</span></code> o <code class="docutils literal notranslate"><span class="pre">configurable</span></code> estarán siempre
a <em>true</em>. Para que adopten otro valor pueden usarse:</p>
<dl id="object-defineproperty">
<dt><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty">Object.defineProperty()</a></dt><dd><p>Permite definir o redefinir el descriptor de un atributo. Por ejemplo:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">rectangulo</span><span class="p">,</span> <span class="s2">&quot;color&quot;</span><span class="p">,</span> <span class="p">{</span>
   <span class="nx">value</span><span class="o">:</span> <span class="s2">&quot;negro&quot;</span><span class="p">,</span>
   <span class="nx">configurable</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">})</span>
</pre></div>
</div>
<p>De esta forma añadimos un nuevo atributo puesto que el atributo color no
existía previamente, y, además, indicamos cuál será el descriptor del dato.
En el código no hemos incluido dos características (<em>writable</em> y
<em>enumerable</em>), por lo que estas se fijarán a <em>false</em>. Cuando lo que se hace
es utilizar un atributo ya existente, las características no enunciadas
mantendrán su valor.</p>
<p>Con esta definición, no podremos cambiar el color del rectángulo (<em>writable</em>
es <em>false</em>):</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rectangulo</span><span class="p">.</span><span class="nx">color</span> <span class="o">=</span> <span class="s2">&quot;azul&quot;</span><span class="p">;</span>
<span class="nx">rectangulo</span><span class="p">.</span><span class="nx">color</span><span class="p">;</span>  <span class="c1">// Sigue siendo negro.</span>
</pre></div>
</div>
<p>pero podremos alterar el descriptor puesto que <em>configurable</em> lo fijamos a
verdadero. También podremos borrar el atributo ya que es <em>configurable</em> quien
controla esta posibilidad.</p>
</dd>
</dl>
<dl id="object-defineproperties">
<dt><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties">Object.defineProperties()</a></dt><dd><p>Como el anterior pero permite definir o redefinir a la vez los descriptores
de varios atributos:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperties</span><span class="p">(</span><span class="nx">rectangulo</span><span class="p">,</span> <span class="p">{</span>
   <span class="nx">color</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">writable</span><span class="o">:</span> <span class="kc">false</span>
   <span class="p">},</span>
   <span class="nx">altura</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">configurable</span><span class="o">:</span> <span class="kc">false</span>
   <span class="p">},</span>
   <span class="nx">anchura</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">configurable</span><span class="o">:</span> <span class="kc">false</span>
   <span class="p">},</span>
   <span class="nx">area</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">enumerable</span><span class="o">:</span> <span class="kc">false</span>
   <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Gracias a esto, no podremos borrar la altura ni la anchura del rectángulo.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p><a class="reference internal" href="#object-create">Object.create</a> permite también definir descriptores a la vez que se
clona un objeto.</p>
</div>
</div>
<div class="section" id="lista-de-atributos">
<h3><span class="section-number">1.4.1.4. </span>Lista de atributos<a class="headerlink" href="#lista-de-atributos" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Hay algunos modos de conocer cuáles son los atributos que tenemos disponibles en
un objeto:</p>
<dl>
<dt><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames">Object.getOwnPropertyNames()</a></dt><dd><p>Devuelve un <em>array</em> con los nombres de todos los atributos propios del
objetos, sean estos enumerables o no:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyNames</span><span class="p">(</span><span class="nx">rectangulo</span><span class="p">);</span>  <span class="c1">// [ &#39;altura&#39;, &#39;anchura&#39;, &#39;area&#39;, &#39;color&#39; ]</span>
</pre></div>
</div>
</dd>
<dt><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys">Object.keys()</a></dt><dd><p>Devuelve un <em>array</em> con los nombres de los atributos enumerables disponibles
en el objeto:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyNames</span><span class="p">(</span><span class="nx">rectangulo</span><span class="p">);</span>  <span class="c1">// [ &#39;altura&#39;, &#39;anchura&#39;, &#39;color&#39; ]</span>
</pre></div>
</div>
<p>donde no aparece <code class="docutils literal notranslate"><span class="pre">area</span></code> puesto que la definitmos antes como no enumerable.
Sin embargo, la diferencia con respecto a la función anterior, va más allá de
listar o no los atributos enumerables. <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys">Object.keys()</a> lista también atributos
que aunque no han sido definidos en el propio objetos, los ha heredado. Aún
no hemos tratado las características de la <abbr title="Programación Orientada a Objetos">POO</abbr>. aplicadas a <em>Ĵavascript</em>,
pero ya veremos cómo unos objetos pueden heredar de otros.</p>
</dd>
<dt><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty">.hasOwnProperty(name)</a></dt><dd><p>Es un método del objeto que comprueba si el objeto tiene un atributo propio
con el nombre suministrado, sea enumerable o no:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rectangulo</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s2">&quot;area&quot;</span><span class="p">);</span>  <span class="c1">// true.</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Obsérvese que este método <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty">.hasOwnProperty(name)</a>  no lo hemos
definido nosotros en el objeto, así que forzosamente debe ser un método
heredado. Porque no es propio, no nos lo devolvió
<a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames">Object.getOwnPropertyNames()</a> y, porque no es enumerable, no lo hizo
<a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys">Object.keys()</a></p>
</div>
</dd>
</dl>
</div>
<div class="section" id="propiedades">
<span id="object-properties"></span><h3><span class="section-number">1.4.1.5. </span>Propiedades<a class="headerlink" href="#propiedades" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Las propiedades son atributos que, en vez de definir un valor, definen un
<em>setter</em> y un <em>getter</em>, aunque alguna de estas dos funciones puede no existir.
Podemos definir un atributo de este tipo bien declarando el descriptor
explícitamente (con <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty">Object.defineProperty()</a> o <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties">Object.defineProperties()</a>):</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">rectangulo</span><span class="p">,</span> <span class="s2">&quot;perimetro&quot;</span><span class="p">,</span> <span class="p">{</span>
   <span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">anchura</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">altura</span><span class="p">);</span>
   <span class="p">},</span>
   <span class="nx">enumerable</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">});</span>

<span class="nx">rectangulo</span><span class="p">.</span><span class="nx">perimetro</span><span class="p">;</span> <span class="c1">// 34, o sea, 2*(10 + 7)</span>
</pre></div>
</div>
<p>En este caso, hemos añadido una propiedad de sólo lectura, esto es, con
<em>getter</em>, pero no con <em>setter</em>. Alternativamente, la definición puede hacerse
así:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">rectangulo</span><span class="p">,</span> <span class="s2">&quot;perimetro&quot;</span><span class="p">,</span> <span class="p">{</span>
   <span class="nx">get</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">anchura</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">altura</span><span class="p">);</span>
   <span class="p">},</span>
   <span class="nx">enumerable</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Las propiedades también pueden definirse en el momento de crear el objeto. Por
ejemplo, si quisiéramos crear el objeto <code class="docutils literal notranslate"><span class="pre">rectángulo</span></code> de manera que anchura y
altura fueran propiedades, podríamos hacer lo siguiente:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">rectangulo</span> <span class="o">=</span> <span class="p">{</span>
   <span class="nx">get</span> <span class="nx">altura</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_altura</span><span class="p">;</span>
   <span class="p">},</span>
   <span class="nx">set</span> <span class="nx">altura</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">value</span> <span class="o">!==</span> <span class="s1">&#39;number&#39;</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s1">&#39;Valor no numérico&#39;</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">_altura</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
   <span class="p">},</span>
   <span class="nx">get</span> <span class="nx">anchura</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_altura</span><span class="p">;</span>
   <span class="p">},</span>
   <span class="nx">set</span> <span class="nx">anchura</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">value</span> <span class="o">!==</span> <span class="s1">&#39;number&#39;</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s1">&#39;Valor no numérico&#39;</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">_anchura</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
   <span class="p">},</span>
   <span class="nx">area</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>  <span class="c1">// Como este atributo es una función, actúa como método.</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">altura</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">anchura</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>

<span class="nx">rectangulo</span><span class="p">.</span><span class="nx">altura</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="nx">rectangulo</span><span class="p">.</span><span class="nx">anchura</span> <span class="o">=</span> <span class="s2">&quot;No soy un número&quot;</span><span class="p">;</span>  <span class="c1">// Provoca error.</span>
</pre></div>
</div>
<p>Nótese que en realidad los atributos <em>anchura</em> y <em>altura</em> no almacenan ningún
valor, por lo que necesitamos crear sendos atributos adicionales pàra cumplir
esta tarea.  Estos atributos, sin embargo, no han sido añadidos de ningún modo
especial por lo que son perfectamente accesibles y enumerables. En el código
anterior, nos hemos limitado a usar la notación del subrayado para hacer notar
que el atributo no debería usarse. Podemos usar otras técnicas más elaboradas.
Por ejemplo, utilizar como claves símbolo y, además, hacer no enumerable el
atributo:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">altura</span> <span class="o">=</span> <span class="nx">Symbol</span><span class="p">(</span><span class="s1">&#39;altura&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">anchura</span> <span class="o">=</span> <span class="nx">Symbol</span><span class="p">(</span><span class="s1">&#39;anchura&#39;</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">rectangulo</span> <span class="o">=</span> <span class="p">{</span>
   <span class="nx">get</span> <span class="nx">altura</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="nx">altura</span><span class="p">];</span>
   <span class="p">},</span>
   <span class="nx">set</span> <span class="nx">altura</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">value</span> <span class="o">!==</span> <span class="s1">&#39;number&#39;</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s1">&#39;Valor no numérico&#39;</span><span class="p">);</span>
      <span class="k">this</span><span class="p">[</span><span class="nx">altura</span><span class="p">]</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
   <span class="p">},</span>
<span class="c1">// etc...</span>
<span class="p">}</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperties</span><span class="p">(</span><span class="nx">rectangulo</span><span class="p">,</span> <span class="p">{</span>
   <span class="p">[</span><span class="nx">altura</span><span class="p">]</span><span class="o">:</span> <span class="p">{</span><span class="nx">enumerable</span><span class="o">:</span> <span class="kc">false</span><span class="p">},</span>
   <span class="p">[</span><span class="nx">anchura</span><span class="p">]</span><span class="o">:</span> <span class="p">{</span><span class="nx">enumerable</span><span class="o">:</span> <span class="kc">false</span><span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="observacion">
<h3><span class="section-number">1.4.1.6. </span>Observación<a class="headerlink" href="#observacion" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="admonition-todo admonition" id="id5">
<p class="admonition-title">Por hacer</p>
<p>Hablar de <strong>Proxy</strong>.</p>
</div>
</div>
</div>
<div class="section" id="manejo-de-objetos">
<h2><span class="section-number">1.4.2. </span>Manejo de objetos<a class="headerlink" href="#manejo-de-objetos" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El ejemplo expuesto hasta aquí (un objeto único que definimos y usamos) no es un
ejemplo en absoluto real. Lo habitual es que requiramos crear muchos objetos que
comparten una misma naturaleza o bien una naturaleza semejante. Así, pues, el
<em>quid</em> de la cuestión está en poder construir objetos de naturaleza idéntica o
semejante de manera que se cumplan los principios de abstracción, encapsulación,
reutilización y extensibilidad.</p>
<p>Esto lo resuelven generalmente los lenguajes orientados a objetos recurriendo a
las clases y convirtiendo a cada objeto en la instanciación de su clase
correspondiente. Tal es el caso de lenguajes como <em>C++</em>, <em>Java</em> o <em>Python</em>.
<em>Javascript</em> tiene una filosofía totalmente distinta; pero, como es enormemente
versátil, es capaz de implementar los objetos usando este patrón de clases. Sin
embargo, hay voces extremadamente críticas con trasladar las clases a
<em>Javascript</em> e, incluso, con el concepto mismo de <abbr title="Programación Orientada a Objetos">POO</abbr>. basada en clases.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>A este respecto es muy interesante la lectura de:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://medium.com/javascript-scene/the-two-pillars-of-javascript-ee6f3281e7f3">Este demoledor artículo</a>
de Eric Elliott.</p></li>
<li><p>El artículo <a class="reference external" href="http://aaditmshah.github.io/why-prototypal-inheritance-matters/">Why prototypal inheritance matters</a> de
Aadit M Shah.</p></li>
</ul>
</div>
<p>Nuestra exposición constará de los siguientes puntos:</p>
<ul class="simple">
<li><p>Cómo implementa realmente <em>Javascript</em> el mecanismo de la herencia.</p></li>
<li><p>Cómo llevar el modelo de clases jerárquicas a <em>Javasript</em>.</p></li>
<li><p>Cuál es la alternativa que se propone al modelo de clases jerarquícas.</p></li>
</ul>
<div class="section" id="herencia">
<span id="object-herencia"></span><h3><span class="section-number">1.4.2.1. </span>Herencia<a class="headerlink" href="#herencia" title="Enlazar permanentemente con este título">¶</a></h3>
<p>En los lenguajes que utilizan clases, cada clase constituye la generalización de
un tipo distinto de objeto, de manera que a la definición de una clase
(<em class="dfn">superclase</em>) se añaden nuevas definiciones de atributos y métodos para
constituir una clae derivada (<em class="dfn">subclase</em>). A conservar los atributos y
métodos de la superclase (o clase padre) es a lo que se denomina <em class="dfn">herencia</em>:</p>
<img alt="../_images/jerarquiaclases.png" src="../_images/jerarquiaclases.png" />
<p>La filosofía de <em>Javascript</em> es, sin embargo, totalmente distinta en la medida
en que no existen clases<a class="footnote-reference brackets" href="#id13" id="id6">4</a>. La herencia de este lenguaje se conoce como
<em class="dfn">herencia prototípica</em> y consiste en que un objeto deriva (hereda) de
otro llamado <em class="dfn">prototipo</em>. Por tanto, si el objeto «b» deriva del objeto
«a», «a» es el prototipo de «b». El prototipo «a», a su vez, puede tener otro
prototipo del que deriva y así sucesivamente en lo que se conoce como
<em class="dfn">cadena de prototipos</em>. Obviamente, la cadena no puede ser infinita, sino
que tiene un final en el que el último prototipo deriva de <code class="docutils literal notranslate"><span class="pre">null</span></code>:</p>
<img alt="../_images/cadena_proto.png" src="../_images/cadena_proto.png" />
<p>Para implementar la cadena cada objeto posee una propiedad <code class="docutils literal notranslate"><span class="pre">[[Proto]]</span></code>, que
oficiosamente se nombró <code class="docutils literal notranslate"><span class="pre">__proto__</span></code> y con tal nombre acabó pasando al
estándar, que aounta al prototipo. Cuando se invoca el atributo de un objeto,
primero se comprueba si éste está definido en el propio atributo, si lo está se
devuelve su valor y, si no, se comprueba si se encuentra definido en el
prototipo. Esta operación se repite sucesivamente de prototito a prototipo hasta
que o bien se encuentra el valor del atributo o se llega al final de la cadena
sin encontrarlo. En este segundo caso, <em>Javascript</em> devolverá <code class="docutils literal notranslate"><span class="pre">undefined</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>La asignación no fundiona así, si se da valor a un atributo, este se
define sobre el propio objeto.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>El prototipo de un objeto creado <em>ex novo</em>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{}</span>
</pre></div>
</div>
<p>no es <em>null</em>, sino aquel en que se encuentran definidos métodos como
<a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty">.hasOwnProperty(name)</a>: <code class="docutils literal notranslate"><span class="pre">Object.prototype</span></code>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">obj</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span>  <span class="c1">// true</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Object.prototype</span></code> si es el último objeto de la cadena y por tanto su
prototipo es <em>null</em>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="kc">null</span><span class="p">;</span>  <span class="c1">// true.</span>
</pre></div>
</div>
<p>De dónde sale este <code class="docutils literal notranslate"><span class="pre">Object.prototype</span></code> se entenderá mejor al tratar las
<a class="reference internal" href="#object-class"><span class="std std-ref">funciones constructoras</span></a>.</p>
</div>
<div class="section" id="implementacion">
<h4><span class="section-number">1.4.2.1.1. </span>Implementación<a class="headerlink" href="#implementacion" title="Enlazar permanentemente con este título">¶</a></h4>
<p id="object-create">En la práctica, la forma de crear un objeto cuyo prototipo sea otro es utilizar
<a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create">Object.create()</a><a class="footnote-reference brackets" href="#id14" id="id7">5</a> que permite la clonación:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">rectangulo</span> <span class="o">=</span> <span class="p">{</span>
   <span class="c1">// Adicionalmente, podríamos definir</span>
   <span class="c1">// getters y setters para altura y anchura.</span>

   <span class="nx">area</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">altura</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="nx">anchura</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Comenzamos a definir rectángulos usando este objeto como prototipo.</span>

<span class="kr">const</span> <span class="nx">rect2</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">rectangulo</span><span class="p">);</span>  <span class="c1">// Clonamos el objeto.</span>
<span class="nx">rect2</span><span class="p">.</span><span class="nx">altura</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="nx">rect2</span><span class="p">.</span><span class="nx">anchura</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
</pre></div>
</div>
<p>Esta, ciertamente, es una forma muy sucia de construir nuevos objetos utilizando
el prototipo, pero podriamos pulirla añadiendo un método constructor:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">rectangulo</span> <span class="o">=</span> <span class="p">{</span>
   <span class="nx">crear</span><span class="p">(</span><span class="nx">altura</span><span class="p">,</span> <span class="nx">anchura</span><span class="p">)</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">self</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">altura</span> <span class="o">=</span> <span class="nx">altura</span><span class="p">;</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">anchura</span> <span class="o">=</span> <span class="nx">anchura</span><span class="p">;</span>
      <span class="k">return</span> <span class="nx">self</span><span class="p">;</span>
   <span class="p">},</span>

   <span class="nx">area</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">altura</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="nx">anchura</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">rect</span> <span class="o">=</span> <span class="nx">rectangulo</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
</pre></div>
</div>
<p>Para implementar la herencia (por ejemplo, generar cuadrados) podemos tener en
cuenta que <a class="reference internal" href="#object-create">Object.create</a> admite como segundo argumento un objeto que describa
propiedades adicionales del objeto a la manera que lo hace
<a class="reference internal" href="#object-defineproperties">Object.defineProperties</a>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">cuadrado</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">rectangulo</span><span class="p">,</span> <span class="p">{</span>
   <span class="nx">create</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">value</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">lado</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">return</span> <span class="nx">rectangulo</span><span class="p">.</span><span class="nx">create</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">lado</span><span class="p">,</span> <span class="nx">lado</span><span class="p">);</span>
      <span class="p">}</span>
   <span class="p">}</span>
<span class="p">});</span>

<span class="kr">const</span> <span class="nx">cua</span> <span class="o">=</span> <span class="nx">cuadrado</span><span class="p">.</span><span class="nx">crear</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
</pre></div>
</div>
<p id="object-assign">Ciertamente, es algo fea esta forma de derivar. Una alternativa es definir un
método para extender el objeto que podemos incluir en el objeto del que deriven
los demás<a class="footnote-reference brackets" href="#id15" id="id8">6</a>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">rectangulo</span> <span class="o">=</span> <span class="p">{</span>
   <span class="nx">crear</span><span class="p">(</span><span class="nx">altura</span><span class="p">,</span> <span class="nx">anchura</span><span class="p">)</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">self</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">altura</span> <span class="o">=</span> <span class="nx">altura</span><span class="p">;</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">anchura</span> <span class="o">=</span> <span class="nx">anchura</span><span class="p">;</span>
      <span class="k">return</span> <span class="nx">self</span><span class="p">;</span>
   <span class="p">},</span>

   <span class="nx">extender</span><span class="p">(</span><span class="nx">extension</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="k">this</span><span class="p">),</span> <span class="nx">extension</span><span class="p">);</span>
   <span class="p">},</span>

   <span class="nx">area</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">altura</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="nx">anchura</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">cuadrado</span> <span class="o">=</span> <span class="nx">rectangulo</span><span class="p">.</span><span class="nx">extender</span><span class="p">({</span>
   <span class="nx">crear</span><span class="p">(</span><span class="nx">lado</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">rectangulo</span><span class="p">.</span><span class="nx">crear</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">lado</span><span class="p">,</span> <span class="nx">lado</span><span class="p">);</span>
   <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Nótese que para implementar el nuevo método el ejemplo usa:</p>
<dl>
<dt><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign">Object.assign()</a></dt><dd><p>Copia en el objeto proporcionado como primer argumentos, los atributos
que contiene el objeto proporcionado como segundo argumento (y tercero y
cuarto, etc.). Por tanto, el código:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">extender</span><span class="p">(</span><span class="nx">extension</span><span class="p">)</span> <span class="p">{</span>
   <span class="kr">const</span> <span class="nx">self</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
   <span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">self</span><span class="p">,</span> <span class="nx">extension</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<p>copia en objeto derivado de <code class="docutils literal notranslate"><span class="pre">rectangulo</span></code> (o sea, <code class="docutils literal notranslate"><span class="pre">self</span></code> los atributos
definidos en <code class="docutils literal notranslate"><span class="pre">extension</span></code>). La función, además, devuelve el objeto que se
pasó como primer argumento, lo que aprovechamos para ahorrarnos una línea de
código.</p>
<p>Obsérvese que utilizando esta técnica el nuevo objeto <code class="docutils literal notranslate"><span class="pre">cuadradp</span></code> dispondrá
de los atributos por dos vías:</p>
<ul class="simple">
<li><p>Por <em class="dfn">delegación</em> (o sea, a través de su prototipo) de los atributos de
cuadrado.</p></li>
<li><p>Por <em class="dfn">concatenación</em> (o sea, que acabarán copiados directamente sobre el
propio objeto de los atributos del objeto <code class="docutils literal notranslate"><span class="pre">extension</span></code>.</p></li>
</ul>
<p>Esto es importante, ya que la delagción implica que cualquier cambio en el
objeto original (<code class="docutils literal notranslate"><span class="pre">rectangulo</span></code>) afectará al derivado, mientras que en la
concatenación, al copiarse los atributos de <code class="docutils literal notranslate"><span class="pre">extension</span></code> en el nuevo objeto,
no ocurre esto<a class="footnote-reference brackets" href="#id16" id="id9">7</a>.</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>Como ya se formuló, hay bastantes voces críticas con el uso de la
herencia para la reutilización de código. Revise la <a class="reference internal" href="#object-compos"><span class="std std-ref">composición</span></a> como alternativa.</p>
</div>
</div>
<div class="section" id="manipulacion-del-prototipo">
<h4><span class="section-number">1.4.2.1.2. </span>Manipulación del prototipo<a class="headerlink" href="#manipulacion-del-prototipo" title="Enlazar permanentemente con este título">¶</a></h4>
<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>Alterar la cadena de prototipos afecta drásticamente al rendimiento
de la aplicación, así que está muy desaconsejado.</p>
</div>
<p>Ya se ha dejado apuntado más arriba que todo objeto dispone de un atributo
<code class="docutils literal notranslate"><span class="pre">__proto__</span></code> qu apunta al prototipo del objeto. Esta atributo es tanto de
lectura como de escritura, por lo que sirve tanto para consultar cuál es el
prototipo de un objeto como para cambiarlo. Sin embargo, en principio, fue una
extensión ajena al estándar que se aceptó en <em>ES2015</em> por compatibilidad
con los navegadores. La consulta y manipulación del prototipo debe hacerse con:</p>
<dl class="simple">
<dt><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf">Object.getPrototypeOf()</a></dt><dd><p>Devuelve el prototipo del objeto.</p>
</dd>
<dt><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf">Object.setPrototypeOf()</a></dt><dd><p>Cambia el prototipo del objeto.</p>
</dd>
</dl>
<p>Por ejemplo:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span><span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">};</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="o">===</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span> <span class="c1">// true</span>
<span class="nx">p</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span>
<span class="nx">p</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="mi">2</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span><span class="nx">p</span><span class="p">)</span> <span class="o">===</span> <span class="nx">o</span><span class="p">;</span> <span class="c1">// true</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototype</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>  <span class="c1">// El prototipo de p ya no es o.</span>
<span class="nx">p</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>  <span class="c1">// undefined</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span><span class="nx">p</span><span class="p">)</span> <span class="o">===</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span> <span class="c1">// true</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="clases-en-javascript">
<span id="object-class"></span><h3><span class="section-number">1.4.2.2. </span>«Clases» en <em>Javascript</em><a class="headerlink" href="#clases-en-javascript" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La naturaleza real de la <abbr title="Programación Orientada a Objetos">POO</abbr>. de <em>Javascript</em> es la ya expuesta: los objetos se
pueden construir añadiendo directamente atributos, y la herencia se basa en
prototipos. No obstante, por su diseño la <abbr title="Programación Orientada a Objetos">POO</abbr>. de <em>Javascript</em> es tremendamente
verśatil y podemos emular en cierta media el estilo de programación de lenguajes
que tienen clases.</p>
<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>Recuérdese que, practicando lo expuesto bajo este epígrafe, al uso
ya anatemizado por algunos de la herencia como mecanismo fundamental para la
reutilización de código, se añade la introducción  del concepto de clases
ajena a la naturaleza original de <em>Javascript</em>.</p>
</div>
<div class="section" id="metodo-tradicional">
<h4><span class="section-number">1.4.2.2.1. </span>Método tradicional<a class="headerlink" href="#metodo-tradicional" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Para poner en práctica esta aproximación a la <abbr title="Programación Orientada a Objetos">POO</abbr>. debemos basarnos en el
concepto de <em class="dfn">función constructora</em> y el operador <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new">new</a>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">Rectangulo</span><span class="p">(</span><span class="nx">altura</span><span class="p">,</span> <span class="nx">anchura</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">this</span><span class="p">.</span><span class="nx">altura</span> <span class="o">=</span> <span class="nx">altura</span><span class="p">;</span>
   <span class="k">this</span><span class="p">.</span><span class="nx">anchura</span> <span class="o">=</span> <span class="nx">anchura</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">rect</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Rectangulo</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">);</span>
</pre></div>
</div>
<p>En este caso <code class="docutils literal notranslate"><span class="pre">Rectangulo</span></code> es una función constructora que se caracteriza por:</p>
<ol class="arabic">
<li><p>Debe usarse utilizando el operador <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new">new</a>.</p></li>
<li><p>EL uso de tal operador provoca que el contexto (<code class="docutils literal notranslate"><span class="pre">this</span></code>) de la función sea
el propio objeto que se esté construyendo y que implicitamente se devuelva
tal objeto.</p></li>
<li><p>Que el atributo <code class="docutils literal notranslate"><span class="pre">prototype</span></code> de la función sea el prototipo del objeto
generado. Por tanto, en este caso:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">Rectangulo</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">===</span> <span class="nx">rect</span><span class="p">.</span><span class="nx">__proto__</span>
</pre></div>
</div>
</li>
</ol>
<p>Como consecuencia de esto último para crear atributos comunes a todos los
objetos construidos con la función, es necesario añadirlos a
<code class="docutils literal notranslate"><span class="pre">Rectangulo.prototype</span></code> (y si quisiéramos que fueran estáticos al propio
constructor). Así pues:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">Rectangulo</span><span class="p">(</span><span class="nx">altura</span><span class="p">,</span> <span class="nx">anchura</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">this</span><span class="p">.</span><span class="nx">altura</span> <span class="o">=</span> <span class="nx">altura</span><span class="p">;</span>
   <span class="k">this</span><span class="p">.</span><span class="nx">anchura</span> <span class="o">=</span> <span class="nx">anchura</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">altura</span> <span class="o">=</span> <span class="nx">Symbol</span><span class="p">(</span><span class="s1">&#39;altura&#39;</span><span class="p">);</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">Rectangulo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="p">{</span>
   <span class="nx">area</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">altura</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="nx">anchura</span><span class="p">;</span>
   <span class="p">},</span>
   <span class="c1">// Otros atributos y métodos. Por ejemplo, getters y setters</span>

   <span class="nx">get</span> <span class="nx">altura</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="nx">altura</span><span class="p">];</span>
   <span class="p">},</span>

   <span class="nx">set</span> <span class="nx">altura</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">[</span><span class="nx">altura</span><span class="p">]</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">});</span>

<span class="c1">// Atributos estáticos</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">Rectangulo</span><span class="p">,</span> <span class="p">{</span>
   <span class="nx">dimensiones</span><span class="o">:</span> <span class="mi">2</span>
<span class="p">})</span><span class="o">:</span>

<span class="kr">const</span> <span class="nx">rect</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Rectangulo</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">);</span>
<span class="nx">rect</span><span class="p">.</span><span class="nx">area</span><span class="p">();</span>  <span class="c1">// 70.</span>
<span class="nx">rect</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">===</span> <span class="nx">Rectangulo</span><span class="p">;</span>  <span class="c1">// true</span>
</pre></div>
</div>
<p>Cuando se construyen objetos sobre una función, existe un atributo
<code class="docutils literal notranslate"><span class="pre">constructor</span></code> cuyp valor es la propia función construcora.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Construir objetos usando el operador <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new">new</a> no casa excesivanente bien
con la naturaleza funcional de <em>Javascript</em>. Sin embargo, es el método
original (<a class="reference internal" href="#object-create">Object.create</a> apareció bastante después), lo cual se debe en
gran parte a la pretensión de <em>Ĵavascript</em> de aprovechar el entonces tirón de
<em>Java</em> y del mismo modo que copió su nombre (su nombre original fue <em>Mocha</em> y
luego <em>LiveScript</em>) también copió el operador <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new">new</a> para crear objetos.</p>
</div>
<p>Es importante tener presente que al utilizar la función constructora, lo único
que se requiere utilizar es la propia función constructora. Consecuentemente, es
conveniente ocultar todas las definiciones, bien usando el <a class="reference internal" href="../02.node/03.modulos.html#js-module-pattern"><span class="std std-ref">patron del
módulo</span></a>, bien si estamos en <em>NodeJS</em> haciendo uso de un
<cite>fichero independiente (módulo) &lt;module-commonjs&gt;</cite>. El método del patrón podemos
ilustralo ahora porque no se requieren más conocimientos:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">Rectangulo</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
   <span class="kd">function</span> <span class="nx">Rectangulo</span><span class="p">(</span><span class="nx">altura</span><span class="p">,</span> <span class="nx">anchura</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">altura</span> <span class="o">=</span> <span class="nx">altura</span><span class="p">;</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">anchura</span> <span class="o">=</span> <span class="nx">anchura</span>
   <span class="p">}</span>

   <span class="kr">const</span> <span class="nx">altura</span> <span class="o">=</span> <span class="nx">Symbol</span><span class="p">(</span><span class="s1">&#39;altura&#39;</span><span class="p">);</span>

   <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">Rectangulo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="p">{</span>
      <span class="nx">area</span><span class="p">()</span> <span class="p">{</span>
         <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">altura</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="nx">anchura</span><span class="p">;</span>
      <span class="p">},</span>

      <span class="c1">// Otros atributos y métodos. Por ejemplo, getters y setters</span>

      <span class="nx">get</span> <span class="nx">altura</span><span class="p">()</span> <span class="p">{</span>
         <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="nx">altura</span><span class="p">];</span>
      <span class="p">},</span>

      <span class="nx">set</span> <span class="nx">altura</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">this</span><span class="p">[</span><span class="nx">altura</span><span class="p">]</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
      <span class="p">}</span>
   <span class="p">});</span>

   <span class="c1">// Atributos estáticos</span>
   <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">Rectangulo</span><span class="p">,</span> <span class="p">{</span>
      <span class="nx">dimensiones</span><span class="o">:</span> <span class="mi">2</span>
   <span class="p">});</span>

   <span class="k">return</span> <span class="nx">Rectangulo</span><span class="p">;</span>
<span class="p">})();</span>
</pre></div>
</div>
<p>Si quisiéramos implementar otras funcionalidades de las clases:</p>
<ul>
<li><p>Los <strong>atributos privados estáticos</strong> pueden definirse como variables
locales dentro de la clausura anterior, análogamente a como se ha definido
la variable <em>altura</em>.</p></li>
<li><p>Ciñéndonos exclusivamente a métodos, los <strong>métodos privados de instancia</strong>
pueden implementarse como funciones definidas dentro de la clausura que se
utilizan siempre definiendo al objeto como contexto. Por ejemplo:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span> <span class="kr">const</span> <span class="nx">Rectangulo</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">Rectangulo</span><span class="p">(</span><span class="nx">altura</span><span class="p">,</span> <span class="nx">anchura</span><span class="p">)</span> <span class="p">{</span>
       <span class="k">this</span><span class="p">.</span><span class="nx">altura</span> <span class="o">=</span> <span class="nx">altura</span><span class="p">;</span>
       <span class="k">this</span><span class="p">.</span><span class="nx">anchura</span> <span class="o">=</span> <span class="nx">anchura</span>
<span class="hll">       <span class="nx">comprobar</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</span>    <span class="p">}</span>

<span class="hll">    <span class="kd">function</span> <span class="nx">comprobar</span><span class="p">()</span> <span class="p">{</span>
</span><span class="hll">       <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="k">this</span><span class="p">.</span><span class="nx">altura</span> <span class="o">!==</span> <span class="s1">&#39;number&#39;</span>  <span class="o">||</span> <span class="k">typeof</span> <span class="k">this</span><span class="p">.</span><span class="nx">anchura</span> <span class="o">!==</span> <span class="s1">&#39;number&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">          <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="sb">`Los lados del </span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">constructor</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb"> deben ser números`</span><span class="p">);</span>
</span><span class="hll">       <span class="p">}</span>
</span><span class="hll">    <span class="p">}</span>
</span>
    <span class="c1">// etc.</span>
 <span class="p">})();</span>
</pre></div>
</div>
</li>
</ul>
<p>Por último para derivar clases, en realidad, debemos hacer que el constructor
del objeto derivado (<code class="docutils literal notranslate"><span class="pre">Cuadrado</span></code>) derive del constructor original
(<code class="docutils literal notranslate"><span class="pre">Rectangulo</span></code>). En consecuencia:</p>
<blockquote>
<div><div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">Cuadrado</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
   <span class="kd">function</span> <span class="nx">Cuadrado</span><span class="p">(</span><span class="nx">lado</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">Rectangulo</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">lado</span><span class="p">,</span> <span class="nx">lado</span><span class="p">);</span>
   <span class="p">}</span>
<span class="hll">   <span class="nx">Cuadrado</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Rectangulo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>
</span><span class="hll">   <span class="nx">Cuadrado</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">=</span> <span class="nx">Cuadrado</span><span class="p">;</span>
</span>
   <span class="c1">// Ahora podemos añadir más atributos al prototipo o al cnstructor.</span>

   <span class="k">return</span> <span class="nx">Cuadrado</span><span class="p">;</span>
<span class="p">})();</span>

<span class="kr">const</span> <span class="nx">cua</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Cuadrado</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">cua</span><span class="p">.</span><span class="nx">area</span><span class="p">());</span>  <span class="c1">// 100.</span>
</pre></div>
</div>
</div></blockquote>
<p>La herencia, sin embargo, no es perfecta, ya que los <em>atributos estáticos</em>, esto
es, lo que hicimos colgar directamente del constructor no estarán disponibles,
ya que no hemos modificado el prototipo del propio constructor:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">cua</span><span class="p">.</span><span class="nx">constructor</span><span class="p">.</span><span class="nx">dimensiones</span>  <span class="c1">// undefined, en vez de 2.</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Podríamos corregir esto utilizando distintas alternativas:</p>
<ul class="simple">
<li><p>Alterar el prototipo del constructor para que apunte al constructor padre
(problemas de rendimiento).</p></li>
<li><p>Copiar con <a class="reference internal" href="#object-assign">Object.assign</a> los atributos del constructor padre (lo cual
al ser una concatenación y no una delegación, provocaría que un cambio en
el padre no se propague al hijo).</p></li>
</ul>
</div>
</div>
<div class="section" id="class-a-partir-de-es2015">
<h4><span class="section-number">1.4.2.2.2. </span><code class="docutils literal notranslate"><span class="pre">class</span></code> a partir de <em>ES2015</em><a class="headerlink" href="#class-a-partir-de-es2015" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Para satisfacer a los programadores procedentes de lenguajes donde sí existen
clases, a partir de 2015 <em>Javascript</em> introdujo una sintaxis para simplificar la
creación de clases, que realmente son funciones constructoras. La sintaxis tiene
la ventaja de solventar algunos problemas (como el de la herencia de métodos
estáticos), pero aleja aún más al programador de la herencia prototípica de
<em>Javascript</em>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">class</span> <span class="nx">Rectangulo</span> <span class="p">{</span>
   <span class="nx">constructor</span><span class="p">(</span><span class="nx">altura</span><span class="p">,</span> <span class="nx">anchura</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">altura</span> <span class="o">=</span> <span class="nx">altura</span><span class="p">;</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">anchura</span> <span class="o">=</span> <span class="nx">anchura</span>
   <span class="p">}</span>

   <span class="kr">static</span> <span class="nx">dimensiones</span> <span class="o">=</span> <span class="mi">2</span>

   <span class="nx">area</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">altura</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="nx">anchura</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">Cuadrado</span> <span class="kr">extends</span> <span class="nx">Rectangulo</span> <span class="p">{</span>
   <span class="nx">constructor</span><span class="p">(</span><span class="nx">lado</span><span class="p">)</span> <span class="p">{</span>
      <span class="kr">super</span><span class="p">(</span><span class="nx">lado</span><span class="p">,</span> <span class="nx">lado</span><span class="p">);</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>La sintaxis, conociendo la general de <em>Javascript</em>, es bastante sencilla. Al
ejemplo, habría que añadir:</p>
<ul class="simple">
<li><p>No pueden definirse métodos privados (aunque hay <cite>una propuesta para el
estándar &lt;https://github.com/tc39/proposal-class-fields#private-fields&gt;`_</cite>).</p></li>
<li><p>Dentro de los métodos, <code class="docutils literal notranslate"><span class="pre">super</span></code> hace referencia a la clase padre. En
consecuencia, <kbd class="kbd docutils literal notranslate">super(..args)</kbd> invoca al constructor y
<kbd class="kbd docutils literal notranslate">super.metodo(..args)</kbd> invoca un determinado método.</p></li>
<li><p>Se usa la misma sintaxis que en los objetos para los <em>getters</em> y <em>setters</em>.</p></li>
<li><p>No hay sintaxis para la herencia múltiple.</p></li>
</ul>
</div>
</div>
<div class="section" id="composicion">
<span id="object-compos"></span><h3><span class="section-number">1.4.2.3. </span>Composición<a class="headerlink" href="#composicion" title="Enlazar permanentemente con este título">¶</a></h3>
<p class="rubric">Notas al pie</p>
<dl class="footnote brackets">
<dt class="label" id="id10"><span class="brackets"><a class="fn-backref" href="#id2">1</a></span></dt>
<dd><p>No, no existen, ni siquiera a partir de <em>ES2015</em> donde aparece una
sintaxis para <em>definir</em> clases. Abundaremos más adelante en esta aparente
paradoja.</p>
</dd>
<dt class="label" id="id11"><span class="brackets"><a class="fn-backref" href="#id3">2</a></span></dt>
<dd><p>Lo cual conseguiríamos en las <abbr title="Programación Orientada a Objetos">POO</abbr>. basada en clases mediante herencia de
clases.</p>
</dd>
<dt class="label" id="id12"><span class="brackets"><a class="fn-backref" href="#id4">3</a></span></dt>
<dd><p>Que un atributo no sea <em>enumerable</em> no es equivalente a que, en la
terminología de otros lenguajes, sea privado. El objeto, aun no siendo
enumerable, seguirá siendo accesible desde fuera.</p>
</dd>
<dt class="label" id="id13"><span class="brackets"><a class="fn-backref" href="#id6">4</a></span></dt>
<dd><p>De hecho, llevamos unos cuantos párrafos con unos cuantos ejemplo en que
sólo hemos trabajado con objetos.</p>
</dd>
<dt class="label" id="id14"><span class="brackets"><a class="fn-backref" href="#id7">5</a></span></dt>
<dd><p>Aunque, dada la naturaleza prototípica de la herencia en <em>Javascript</em>,
esta es la forma natural de que un objeto herede de otro, <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create">Object.create()</a>
fue introducida en <em>ES5</em> a <a class="reference external" href="https://crockford.com/javascript/prototypal.html">sugerencia de Douglas Crockford</a>. La propia referencia
contiene se podía implementar esta con el operador <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new">new</a>.</p>
</dd>
<dt class="label" id="id15"><span class="brackets"><a class="fn-backref" href="#id8">6</a></span></dt>
<dd><p>Como comprenderemos más adelante todos los objetos derivan de
<code class="docutils literal notranslate"><span class="pre">Object.prototype</span></code> por lo que podríamos añadirle esta método para poder
extender cualquier objeto. No obstante, quizás no sea buena idea hacer
definiciones que afecten de forma global.</p>
</dd>
<dt class="label" id="id16"><span class="brackets"><a class="fn-backref" href="#id9">7</a></span></dt>
<dd><p>Obsérvese que si hubiéramos obrado así:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">extender</span><span class="p">(</span><span class="nx">extension</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({},</span> <span class="k">this</span><span class="p">,</span> <span class="nx">extension</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>tendríamos un <code class="docutils literal notranslate"><span class="pre">cuadrado</span></code> con los mismos atributos, pero no existiría
delegación: tanto los atributos de <code class="docutils literal notranslate"><span class="pre">rectangulo</span></code> como atributos que
extienden su definición se habrían copiado en el objeto resultante.
Ciertamente, si estamos basando la reutilización del código en la herencia,
es mejor la otra solución. La concatenación pura, sin embargo, la
utilizaremos al exponer la <a class="reference internal" href="#object-compos"><span class="std std-ref">composición</span></a>.</p>
</dd>
</dl>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Tabla de contenido</a></h3>
  <ul>
<li><a class="reference internal" href="#">1.4. Objetos</a><ul>
<li><a class="reference internal" href="#caracteristicas">1.4.1. Características</a><ul>
<li><a class="reference internal" href="#definicion">1.4.1.1. Definición</a></li>
<li><a class="reference internal" href="#uso">1.4.1.2. Uso</a></li>
<li><a class="reference internal" href="#descriptores">1.4.1.3. Descriptores</a></li>
<li><a class="reference internal" href="#lista-de-atributos">1.4.1.4. Lista de atributos</a></li>
<li><a class="reference internal" href="#propiedades">1.4.1.5. Propiedades</a></li>
<li><a class="reference internal" href="#observacion">1.4.1.6. Observación</a></li>
</ul>
</li>
<li><a class="reference internal" href="#manejo-de-objetos">1.4.2. Manejo de objetos</a><ul>
<li><a class="reference internal" href="#herencia">1.4.2.1. Herencia</a><ul>
<li><a class="reference internal" href="#implementacion">1.4.2.1.1. Implementación</a></li>
<li><a class="reference internal" href="#manipulacion-del-prototipo">1.4.2.1.2. Manipulación del prototipo</a></li>
</ul>
</li>
<li><a class="reference internal" href="#clases-en-javascript">1.4.2.2. «Clases» en <em>Javascript</em></a><ul>
<li><a class="reference internal" href="#metodo-tradicional">1.4.2.2.1. Método tradicional</a></li>
<li><a class="reference internal" href="#class-a-partir-de-es2015">1.4.2.2.2. <code class="docutils literal notranslate"><span class="pre">class</span></code> a partir de <em>ES2015</em></a></li>
</ul>
</li>
<li><a class="reference internal" href="#composicion">1.4.2.3. Composición</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Tema anterior</h4>
  <p class="topless"><a href="03.funciones.html"
                        title="capítulo anterior"><span class="section-number">1.3. </span>Funciones</a></p>
  <h4>Próximo tema</h4>
  <p class="topless"><a href="05.async.html"
                        title="próximo capítulo"><span class="section-number">1.5. </span>Programación asínscrona</a></p>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/01.partic/04.objetos.rst.txt"
            rel="nofollow">Mostrar el código</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Búsqueda rápida</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Ir a" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="05.async.html" title="1.5. Programación asínscrona"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="03.funciones.html" title="1.3. Funciones"
             >anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">documentación de Javascript - </a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" ><span class="section-number">1. </span>Particularidades</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">1.4. </span>Objetos</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Derechos de autor 2019, José Miguel Sánchez Alés.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
  </body>
</html>