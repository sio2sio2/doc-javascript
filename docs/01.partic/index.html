


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>1. Particularidades &#8212; documentación de Javascript - </title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="next" title="2. NodeJS" href="../02.node/index.html" />
    <link rel="prev" title="Javascript" href="../index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="../02.node/index.html" title="2. NodeJS"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Javascript"
             accesskey="P">anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">documentación de Javascript - </a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="particularidades">
<h1>1. Particularidades<a class="headerlink" href="#particularidades" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="section" id="generalidades">
<h2>1.1. Generalidades<a class="headerlink" href="#generalidades" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="section" id="caracteristicas">
<h3>1.1.1. Características<a class="headerlink" href="#caracteristicas" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Resumiendo enormemente, <em>Javascript</em> es un lenguaje:</p>
<ul class="simple">
<li>Interpretado</li>
<li>Imperativo orientado a objetos (aunque <a class="reference internal" href="#object-model"><span class="std std-ref">ya veremos</span></a> que no
basado en clases), pero con muchas características propias de la programación
funcional.</li>
<li>De tipado dinámico y débil.</li>
</ul>
</div>
<div class="section" id="versiones">
<h3>1.1.2. Versiones<a class="headerlink" href="#versiones" title="Enlazar permanentemente con este título">¶</a></h3>
<p><em>Javascript</em> nació en el <a class="reference external" href="https://es.wikipedia.org/wiki/Netscape_Navigator">navegador Netscape</a>,
aunque pronto fue adoptado e implementado («a su manera*») en su competidor <a class="reference external" href="https://es.wikipedia.org/wiki/Internet_Explorer">Internet Explorer</a> con el nombre de <em>JScript</em> y
surgieron toda una de incompatibilidades que lastraban el desarrollo de la web.</p>
<p>En 1997, <em>Netscape</em> remitió a la <em>ECMA</em> el lenguaje para su estandarización y
surgieron las distintas versiones del estándar <em>ECMAScript</em> (abreviado <em>ES</em> o
<em>ES-262</em>, en donde el número hace referencia a que el estándar es la norma
<em>ECMA</em> 262):</p>
<ul class="simple">
<li><strong>ES1</strong> (1997), <strong>ES2</strong> (1998), <strong>ES3</strong> (1999) y la nunca publicada versión 4, que
podemos agrupar juntas y son las versiones arcaicas del lenguaje.</li>
<li><strong>ES5</strong> surgida en 2009.</li>
<li><strong>ES2015</strong> (también conocida como <em>Javascript</em> v6) de 2015. La decisión de
sustituir el número de versión por el año de lanzamiento se debió a que <em>ECMA</em>
decidió editar nuevas versiones en los meses de junio de cada año. y así ha
seguido siendo. Esta versión incorporó bastantes novedades respecto a la
anterior.</li>
<li><strong>ES2016</strong>, <strong>ES2017</strong>, etc.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">A pesar del cambio de denominación es frecuente que algunos sigan
refiriendo las versiones con su número de lanzamiento.</p>
</div>
</div>
<div class="section" id="modo-estricto">
<h3>1.1.3. Modo estricto<a class="headerlink" href="#modo-estricto" title="Enlazar permanentemente con este título">¶</a></h3>
<p>En <em>ES5</em> se introdujo un modo estricto para el lenguaje que, simplemente, le
indica al intérprete que sea menos permisivo al interpretar el lenguaje. Se
puede interpretar estrictamente un fichero entero o una función particular. Para
ello, la primera línea del fichero o la función debe contener esta cadena:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>El efecto de utilizar el modo estricto es que el intérprete falla al encontrarse
con código que, por lo general, se debe a errores de digitalización o tienen
efectos secundarios indeseados. Por ejemplo, en modo estricto no puede usarse
una variable si previamente no se ha declarado explícitamente.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Es importante tener presente que la especificación de <em>ES2015</em>
prescribe que los módulos se interpreten siempre en modo estricto, aunque no
se haya indicado explícitamente.</p>
</div>
</div>
<div class="section" id="bucles-for">
<h3>1.1.4. Bucles <code class="code docutils literal notranslate"><span class="pre">for</span></code><a class="headerlink" href="#bucles-for" title="Enlazar permanentemente con este título">¶</a></h3>
<p><em>Javascript</em> dispone de dos tipos de bucles iterativos:</p>
<ul>
<li><p class="first">El <code class="docutils literal notranslate"><span class="pre">for</span></code> con sintaxis de <strong>C</strong> que permite recorrer secuencias a través de
los ínjdices de sus componentes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">];</span>
<span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;abc&quot;</span><span class="p">;</span>

<span class="k">for</span><span class="p">(</span><span class="n">let</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="o">.</span><span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="k">for</span><span class="p">(</span><span class="n">let</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">str</span><span class="o">.</span><span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="nb">str</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</pre></div>
</div>
</li>
<li><p class="first">Un bucle de tipo <em>forach</em> que tiene dos variantes:</p>
<ul>
<li><p class="first">Si se usa <code class="docutils literal notranslate"><span class="pre">in</span></code> se recorren a lps nombres de las propiedades enumerables de
cualquier objeto (las mismas que devuelve <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys">Object.keys</a>)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Object</span><span class="o">.</span><span class="n">keys</span><span class="p">(</span><span class="n">arr</span><span class="p">);</span>  <span class="o">//</span> <span class="n">Devuelve</span> <span class="p">[</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">]</span>
<span class="k">for</span><span class="p">(</span><span class="n">const</span> <span class="n">idx</span> <span class="n">of</span> <span class="n">arr</span><span class="p">)</span> <span class="p">{</span>
   <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">idx</span><span class="p">);</span>  <span class="o">//</span> <span class="n">Imprime</span> <span class="n">sucesivamente</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">A partir de <em>ES2015</em>, si se usa <code class="docutils literal notranslate"><span class="pre">of</span></code> se recorren los valores de las
propiedades enumerables de cualquier objeto:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="p">(</span><span class="n">const</span> <span class="n">e</span> <span class="n">of</span> <span class="n">arr</span><span class="p">)</span> <span class="p">{</span>
   <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>  <span class="o">//</span> <span class="n">Imprime</span> <span class="n">sucesivamente</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="variables">
<h2>1.2. Variables<a class="headerlink" href="#variables" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="section" id="declaracion">
<h3>1.2.1. Declaración<a class="headerlink" href="#declaracion" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Hay tres modos de declarar variables:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">var</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="n">let</span> <span class="n">z</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="n">const</span> <span class="n">Y</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</div>
<p>La primera forma es la única que ha existido tradicionalmente; mientras que la
segunda y la tercera se introdujeron en <em>ES2015</em>. La última forma permite
definir constantes y requiere obligatoriamente declarar cuál es el valor
asignado. Las otras dos, en cambio, pueden declararse sin recibir valor. En tal
caso, su valor es :code.`undefined`, hasta que no se le asigne un valor.</p>
<p>Por otra parte, en <em>Javascript</em> las funciones son ciudadanas de primera clase.</p>
<p>Hay otra diferencia capital entre estas tres declaraciones relacionada con su
ámbito de existencia: las declaradas con <code class="code docutils literal notranslate"><span class="pre">var</span></code> tiene como ámbito la
función dentro de la que se definen, mientras que las declaradas con <code class="code docutils literal notranslate"><span class="pre">let</span></code>
y <code class="code docutils literal notranslate"><span class="pre">const</span></code> el bloque. Se profundizará más adelante en ello.</p>
<p id="decl-no-var">Cuando se lleva a cabo una asignación, sin haber hecho una declaración previa
pueden ocurrir dos cosas:</p>
<ul class="simple">
<li>En modo estricto, la variable pasa a ser un atributo del <a class="reference internal" href="#objeto-global"><span class="std std-ref">objeto global</span></a>.</li>
<li>En otro caso, se produce un error.</li>
</ul>
</div>
<div class="section" id="tipos">
<h3>1.2.2. Tipos<a class="headerlink" href="#tipos" title="Enlazar permanentemente con este título">¶</a></h3>
<p><em>Javascript</em> define los siguientes tipos:</p>
<ul>
<li><p class="first">Tipos primitivos:</p>
<ul>
<li><p class="first">Lógico (<code class="docutils literal notranslate"><span class="pre">true</span></code> o <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</li>
<li><p class="first">Cadena.</p>
</li>
<li><p class="first">Numérico (número en coma flotante de doble precisión). No hay soporte nativo
para enteroes.</p>
</li>
<li><p class="first">Nulo (<code class="docutils literal notranslate"><span class="pre">null</span></code>).</p>
</li>
<li><p class="first">Indefinido, sin valor (<code class="docutils literal notranslate"><span class="pre">undefinedp</span></code>).</p>
</li>
<li><p class="first">Símbolo: es un tipo que sirve para definir valores únicos. Puede usarse como
como clave para las propiedades de los objetos:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="n">s</span> <span class="o">=</span> <span class="n">Symbol</span><span class="p">();</span>
<span class="n">const</span> <span class="n">objeto</span> <span class="o">=</span> <span class="p">{};</span>
<span class="n">objeto</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;La clave es un símbolo&quot;</span><span class="p">;</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p class="first">Objetos:</p>
<ul>
<li><p class="first"><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="n">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
</pre></div>
</div>
</li>
<li><p class="first"><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Fecha</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="n">ahora</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Date</span><span class="p">();</span>
</pre></div>
</div>
</li>
<li><p class="first"><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function">Funciones</a>.</p>
</li>
<li><p class="first">Objetos equivalentes a los datos primitivos (como en <em>Java</em>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="n">s</span> <span class="o">=</span> <span class="n">new</span> <span class="n">String</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">);</span>
<span class="n">const</span> <span class="n">n</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Number</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span>
<span class="n">const</span> <span class="n">b</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Boolean</span><span class="p">(</span><span class="n">true</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="first">Objetos en general:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="n">o</span> <span class="o">=</span> <span class="p">{};</span>
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="contexto-de-ejecucion">
<h3>1.2.3. Contexto de ejecución<a class="headerlink" href="#contexto-de-ejecucion" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El <em class="dfn">contexto de ejecución</em> es, simplemente, el contexto en que se ejecuta
una determinada parte del código. En <em>Javascript</em> hay un contexto global y cada
función crea su propio contexto de ejecución:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Contexto</span> <span class="k">global</span>
<span class="n">var</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="n">function</span> <span class="n">f1</span><span class="p">()</span> <span class="p">{</span>
   <span class="o">//</span> <span class="n">Contexto</span> <span class="n">de</span> <span class="n">f1</span>
   <span class="n">var</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
   <span class="n">f2</span><span class="p">();</span>
   <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s2">&quot;Dentro del contexto de f1&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">function</span> <span class="n">f2</span><span class="p">()</span> <span class="p">{</span>
   <span class="o">//</span> <span class="n">Contexto</span> <span class="n">de</span> <span class="n">f2</span>
   <span class="n">var</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
   <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s2">&quot;Dentro del contexto de f2&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">f1</span><span class="p">();</span>
</pre></div>
</div>
<p>En el caso de los contextos de ejecución se habla de <em class="dfn">pila de contextos</em>,
ya que al comenzar el programa se crea el contexto global, al invocarse la
función <code class="code docutils literal notranslate"><span class="pre">f1()</span></code> se crea un contexto para esta función, dentro de la cual se
invoca a la función <code class="code docutils literal notranslate"><span class="pre">f2()</span></code> lo que provoca la creación de otro contexto. Al
salir de esta última función se destruye este contexto y volvemos al contexto de
la función <code class="code docutils literal notranslate"><span class="pre">f1</span></code> y al acabar esta, regresamos al contexto global, el cual
se destruye al acabar el programa. Obsérvese que la <em>pila de contextos</em> depende
de por dónde se desarrolle la ejecución.</p>
<p>Es preciso puntualizar que cuando existen diferentes ficheros, el
comportamientdo difiere dependiendo de cuál sea el interprete:</p>
<ul>
<li><p class="first">En los navegadores, todos los ficheros comparten el mismo contexto que es un
contexto glonal, por lo que si nen el nivel superior definimos:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">var</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
</pre></div>
</div>
<p>estaremos haciendo exactamente lo mismo que<a class="footnote-reference" href="#id4" id="id1">[1]</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">window</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</div>
</li>
<li><p class="first">En <a class="reference external" href="https://nodejs.org">NodeJS</a>, en cambio, al ser cada fichero un módulo distinto, cada fichero
tiene su contexto particular.</p>
</li>
</ul>
<p>Cada vez que se crea un contexto, el intérprete establece tres cosas:</p>
<ul class="simple">
<li>Un entorno léxico (<em>lexical environment</em>).</li>
<li>Un entorno de variable (<em>variable environment</em>).</li>
<li>Un objeto <code class="code docutils literal notranslate"><span class="pre">this</span></code>.</li>
</ul>
</div>
<div class="section" id="entornos">
<h3>1.2.4. Entornos<a class="headerlink" href="#entornos" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Al crearse un nuevo contexto de ejecución se crean un entorno léxico y un
entorno de variable que, en principio, son idénticos. Cada entorno recoge la
declaración de variables y funciones y una referencia al entorno externo. En
consecuencia, en el entorno de la función <code class="docutils literal notranslate"><span class="pre">f2()</span></code>, tenemos acceso a la variable
<code class="docutils literal notranslate"><span class="pre">c</span></code>, pero también a la <code class="docutils literal notranslate"><span class="pre">b</span></code> y a la <code class="docutils literal notranslate"><span class="pre">a</span></code>, ya que cuando un identificador no
se encuentra en el propio entorno se sigue buscando en el entorno externo y, si
tampoco se encuentra en este se busca en el externo del externo y así
sucesivamente hasta llegar al entorno global, cuyo entorno externo es
<code class="code docutils literal notranslate"><span class="pre">null</span></code>. Esto define una <em class="dfn">cadena de alcances</em>. Por la misma razón, si
en un entorno interno se define una variable con el mismo nombre que en un
entorno externo, la variable externa queda eclipsada, ya que nunca se consultará
su valor al haberse encontrado antes en la <em>cadena de alcances</em>. Obsérvese que
la <em>cadena de alcances</em> depende de cómo esté escrito el código, no de cómo se
ejecute.</p>
<p>Afinando más, un entorno está constituido por:</p>
<ul class="simple">
<li>Una referencia al entorno extorno (que es lo que posibilita la <em>cadena de
alcances</em>).</li>
<li>Un registro de ambiente que mapea identificadores con valores. Tal registro
tiene dos clases de registros:<ul>
<li>Los registros declarativos del entorno para las declaraciones de variables y
funciones llevadas a cabo en el entorno.</li>
<li>Los registros de objeto del entorno que se usan con la sentencia <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/with">with</a> y
para el entorno global. Por esta razón, las definiciones hechas sobre el
<a class="reference internal" href="#objeto-global"><span class="std std-ref">objeto global</span></a> siempre están disponibles.</li>
</ul>
</li>
</ul>
<p>Ya hemos indicado que en un principio, los entornos léxico y de variables son
idénticos en un <em>contexto de ejecución</em>. Cuándo y por qué divergen es fácil de
entender con un ejemplo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">foobar</span><span class="p">()</span> <span class="p">{</span>
   <span class="n">var</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

   <span class="p">{</span>
      <span class="n">var</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
      <span class="n">let</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
   <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<p>Ya se indicó que el ámbito de las variables declaradas con <code class="docutils literal notranslate"><span class="pre">var</span></code> es la
función, mientras que la de las definidas con <code class="docutils literal notranslate"><span class="pre">let</span></code> (o  <code class="docutils literal notranslate"><span class="pre">const</span></code>) es el
bloque. En consecuencia, <code class="docutils literal notranslate"><span class="pre">b</span></code>, aunque definida dentro del bloque, existe
fuera de él. De hecho, <em>Javascript</em> opera de manera que traslada siempre las
declaraciones de las variables (aunque no la asignación) al comienzo de su ámbito,
por lo que <code class="docutils literal notranslate"><span class="pre">b</span></code> antes del bloque existe, aunque está indefinido:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">foobar</span><span class="p">()</span> <span class="p">{</span>
   <span class="n">var</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

   <span class="o">//</span> <span class="n">Aquí</span> <span class="n">existe</span> <span class="n">b</span> <span class="n">pero</span> <span class="n">vale</span> <span class="n">undefined</span><span class="o">.</span>

   <span class="p">{</span>
      <span class="n">var</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
      <span class="n">let</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="o">//</span> <span class="n">Aquí</span> <span class="n">b</span> <span class="n">vale</span> <span class="mf">2.</span>

<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">c</span></code>, en cambio, sólo existe dentro del bloque. La forma que usa el intérprete
para implementar esto es la de apuntar <code class="docutils literal notranslate"><span class="pre">b</span></code> en el entorno de variables, pero
<code class="docutils literal notranslate"><span class="pre">c</span></code> en el entorno léxico. Por tanto, dentro del bloque el entorno de variables
y el entorno de variables difiere.</p>
</div>
<div class="section" id="objeto-global">
<span id="id2"></span><h3>1.2.5. Objeto global<a class="headerlink" href="#objeto-global" title="Enlazar permanentemente con este título">¶</a></h3>
<p><em class="dfn">Objeto global</em> es aquel que las definidas que pertenecen al alcance global.
En un navegador el objeto global es <em>window</em>.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Recuérdese que en modo <strong>no estricto</strong>, las asignaciones sin
declaración se definen como variables globales, esto es, pasan a formar parte
del objeto global.</p>
</div>
</div>
<div class="section" id="objeto-this">
<h3>1.2.6. Objeto <code class="code docutils literal notranslate"><span class="pre">this</span></code><a class="headerlink" href="#objeto-this" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Cada contexto de ejecución tiene asociado un objeto <code class="code docutils literal notranslate"><span class="pre">this</span></code>. Es importante
tener presente que el significado de <code class="code docutils literal notranslate"><span class="pre">this</span></code> en <em>Javascript</em> es mucho
amplio que el que tiene comúnmente en lenguajes orientados a objetos como <em>Java</em>
o <em>Python</em> (aunque en este se pueda llamar de cualquier manera). En estos
lenguajes, <code class="code docutils literal notranslate"><span class="pre">this</span></code> representa al objeto mismo dentro de sus propios
métodos. Por eso, en <em>Python</em> podríamos escribir:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Rectangulo</span><span class="p">:</span>

   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">x</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">y</span>

   <span class="k">def</span> <span class="nf">area</span><span class="p">():</span>
      <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">;</span>
</pre></div>
</div>
<p>En <em>Javascript</em>, tiene este significado que ya se tratará con el <a class="reference internal" href="#object-model"><span class="std std-ref">modelo de
objetos</span></a>, pero no exclusivamente, ya que cualquier contexto de
ejecución tiene definido este objeto.</p>
<p>En el contexto global, el valor de <code class="code docutils literal notranslate"><span class="pre">this</span></code>:</p>
<ul>
<li><p class="first">En los navegadores <code class="code docutils literal notranslate"><span class="pre">this</span></code> coincide con el objeto global, y los contextos
globales de todos los ficheros de código son exactamente el mismo.</p>
</li>
<li><p class="first">En <a class="reference external" href="https://nodejs.org">NodeJS</a>. en cambio, cada fichero tiene un contexto diferente y el valor de
<code class="code docutils literal notranslate"><span class="pre">this</span></code> coincide con el objeto de importación (en caso de que se use
<em>CommonJS</em>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>   exports.a = 1;
   let b = 2;

   console.log(this);  // {a: 1}

   function c() {
      console.log(&quot;Soy una función&quot;);
   }

   exports.c = c;

   console.log(this);  // {a: 1, c: [Function: c]}


.. seealso:: A su debido tiempo. requerirá echarle un ojo a los :ref:`módulos
   en Javascript &lt;js-modules&gt;`.
</pre></div>
</div>
</li>
</ul>
<p>La discusión sobre el valor de <code class="code docutils literal notranslate"><span class="pre">this</span></code>, la incluiremos bajo el próximo
epígrafe.</p>
</div>
</div>
<div class="section" id="id3">
<h2>1.3. Funciones<a class="headerlink" href="#id3" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Las funciones en <em>Javascript</em> tiene algunas particularidades que conviene
conocer.</p>
<div class="section" id="sintaxis">
<h3>1.3.1. Sintaxis<a class="headerlink" href="#sintaxis" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Hay dos formas de definir funciones:</p>
<ul>
<li><p class="first">La <strong>tradicional</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">suma</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">)</span> <span class="p">{</span>
    <span class="o">//</span> <span class="n">Implementación</span><span class="o">...</span>
    <span class="k">return</span> <span class="n">arg1</span> <span class="o">+</span> <span class="n">arg2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">A partir de <em>ES2015</em>, la <strong>función flecha</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
   <span class="o">//</span> <span class="n">Implementación</span><span class="o">...</span>
   <span class="k">return</span> <span class="n">arg1</span> <span class="o">+</span> <span class="n">arg2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
<blockquote>
<div><p>En caso de que la función conste de una única sentencia podemos simplificar la
construcción eliminado las llaves y la sentencia <code class="code docutils literal notranslate"><span class="pre">return</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">arg1</span> <span class="o">+</span> <span class="n">arg2</span>
</pre></div>
</div>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p>Si se quiere devolver un objeto, entonces es forzoso encerrarlo entre
paréntesis para evitar ambigüedad:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">name</span><span class="p">),</span> <span class="n">desc</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">({</span><span class="n">name</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span> <span class="n">decription</span><span class="p">:</span> <span class="n">desc</span><span class="p">})</span>
</pre></div>
</div>
</div>
<p>Las funciones flecha no expresan el nombre, pero podemos asignarlas a un
identificador (como por otro lado también puede hacerse con las funciones
anónimas en sintaxis tradicional):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Función</span> <span class="n">flecha</span> <span class="n">asociada</span> <span class="n">a</span> <span class="n">un</span> <span class="n">identificador</span><span class="o">.</span>
<span class="n">var</span> <span class="n">suma</span> <span class="o">=</span> <span class="p">(</span><span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">arg1</span> <span class="o">+</span> <span class="n">arg2</span><span class="p">;</span>

<span class="o">//</span> <span class="n">Una</span> <span class="n">forma</span> <span class="n">más</span> <span class="n">enrevesada</span> <span class="n">de</span> <span class="n">definir</span> <span class="n">la</span> <span class="n">primera</span> <span class="n">función</span><span class="p">:</span>

<span class="n">var</span> <span class="n">suma</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">return</span> <span class="n">arg1</span> <span class="o">+</span> <span class="n">arg2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Las funciones flecha no son simple <a class="reference external" href="https://es.wikipedia.org/wiki/Az%C3%BAcar_sint%C3%A1ctico">azucar sintáctico</a>, sino que hay
una diferencia capital entre ellas y las funciones tradicionales: no crean un
contexto de ejecución propio, sino que heredan el contexto externo. Por
ejemplo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">uno</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
   <span class="n">const</span> <span class="p">[</span><span class="n">args</span><span class="p">,</span> <span class="n">that</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">arguments</span><span class="p">,</span> <span class="n">this</span><span class="p">]</span>

   <span class="n">var</span> <span class="n">dos1</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s2">&quot;Tradicional&quot;</span><span class="p">,</span> <span class="n">this</span> <span class="o">===</span> <span class="n">that</span><span class="p">,</span> <span class="n">arguments</span> <span class="o">===</span> <span class="n">args</span><span class="p">);</span>
   <span class="p">}</span>
   <span class="n">var</span> <span class="n">dos2</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s2">&quot;Flecha&quot;</span><span class="p">,</span> <span class="n">this</span> <span class="o">===</span> <span class="n">that</span><span class="p">,</span> <span class="n">arguments</span> <span class="o">===</span> <span class="n">args</span><span class="p">);</span>

   <span class="n">dos1</span><span class="p">(</span><span class="n">b</span><span class="p">);</span>  <span class="o">//</span> <span class="n">Tradicional</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span>
   <span class="n">dos2</span><span class="p">(</span><span class="n">b</span><span class="p">);</span>  <span class="o">//</span> <span class="n">Flecha</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="n">true</span>
<span class="p">}</span>

<span class="n">uno</span><span class="o">.</span><span class="n">call</span><span class="p">({</span><span class="n">desc</span><span class="p">:</span> <span class="s2">&quot;Soy el contexto&quot;</span><span class="p">},</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</pre></div>
</div>
<p>Si ejecutamos el ejemplo, la función tradicional generará un nuevo contexto
(<code class="code docutils literal notranslate"><span class="pre">this</span></code> distinto y argumentos propios), mientras que la función flecha no
lo hace.</p>
</div>
<div class="section" id="argumentos">
<h3>1.3.2. Argumentos<a class="headerlink" href="#argumentos" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Los argumentos de las funciones son posicionales, pero con algunas
características especiales:</p>
<ul>
<li><p class="first"><em>Javascript</em> no es estricto con el número de parámetros proporcionados. Si se
pasan más de los que se definieron, no se producirá ningún fallo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="nb">sum</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>
<span class="nb">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>       <span class="o">//</span> <span class="n">Devuelve</span> <span class="mf">3.</span>
<span class="n">suma</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>  <span class="o">//</span> <span class="n">Sobra</span> <span class="n">el</span> <span class="mi">10</span><span class="p">,</span> <span class="n">pero</span> <span class="n">sigue</span> <span class="n">devolviendo</span> <span class="mf">3.</span>
</pre></div>
</div>
</li>
<li><p class="first">Si se pasan menos parámetros de los declarados, los parámetros restantes
tomarán el valor <code class="docutils literal notranslate"><span class="pre">undefined</span></code>.</p>
</li>
<li><p class="first">Desde <em>ES2015</em> pueden definirse valores predeterminados:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="nb">sum</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">;</span>
<span class="nb">sum</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>               <span class="o">//</span> <span class="mi">100</span> <span class="o">+</span> <span class="mi">20</span> <span class="o">=</span> <span class="mf">120.</span>
<span class="n">suma</span><span class="p">(</span><span class="n">undefined</span><span class="p">,</span> <span class="mi">200</span><span class="p">);</span>  <span class="o">//</span> <span class="mi">200</span> <span class="o">+</span> <span class="mi">10</span> <span class="o">=</span> <span class="mf">210.</span>
<span class="n">suma</span><span class="p">();</span>                <span class="o">//</span> <span class="mi">100</span> <span class="o">+</span> <span class="mi">10</span> <span class="o">=</span> <span class="mf">110.</span>
</pre></div>
</div>
</li>
</ul>
<blockquote>
<div><p>Antes, no obstante, era también bastante sencillo de implementar:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">suma</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">if</span><span class="p">(</span><span class="n">a</span> <span class="o">===</span> <span class="n">undefined</span><span class="p">)</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
   <span class="k">if</span><span class="p">(</span><span class="n">b</span> <span class="o">===</span> <span class="n">undefined</span><span class="p">)</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>

   <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<ul>
<li><p class="first">Las funciones disponen de un pseudo-array denominado <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments">arguments</a> que contiene
el valor de cada uno de los argumentos:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="nb">sum</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
   <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">//</span> <span class="n">valor</span> <span class="n">de</span> <span class="n">a</span><span class="o">.</span>
   <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">//</span> <span class="n">valor</span> <span class="n">de</span> <span class="n">b</span><span class="o">.</span>
   <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="code docutils literal notranslate"><span class="pre">arguments</span></code> no es un array propiamente dicho y sólo permite recorrerlo,
acceder por posición a sus elementos y consultar su longitud con <code class="docutils literal notranslate"><span class="pre">length</span></code>.
En modo no estricto, dispone además de un atributo <code class="docutils literal notranslate"><span class="pre">callee</span></code> que refiere la
propia función:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="nb">sum</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
   <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="nb">sum</span> <span class="o">===</span> <span class="n">arguments</span><span class="o">.</span><span class="n">callee</span><span class="p">);</span>  <span class="o">//</span> <span class="n">true</span><span class="o">.</span>
   <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">A partir de <em>ES2015</em>, es posible también definir funciones con una cantidad
fija de argumentos nominados, y otra variable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">foobar</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="o">...</span><span class="n">rest</span><span class="p">)</span> <span class="p">{</span>
   <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>      <span class="o">//</span> <span class="mi">1</span>
   <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">b</span><span class="p">);</span>      <span class="o">//</span> <span class="mi">2</span>
   <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">rest</span><span class="p">);</span>   <span class="o">//</span> <span class="p">[</span><span class="mf">3.</span> <span class="mi">4</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">foobar</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="contexto">
<h3>1.3.3. Contexto<a class="headerlink" href="#contexto" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="section" id="this-predeterninado">
<h4>1.3.3.1. <code class="docutils literal notranslate"><span class="pre">this</span></code> predeterninado<a class="headerlink" href="#this-predeterninado" title="Enlazar permanentemente con este título">¶</a></h4>
<p>El objeto <code class="code docutils literal notranslate"><span class="pre">this</span></code> del contexto ejecución que crea cada función depende de
múltiples factores:</p>
<ul>
<li><p class="first">En las <em>funciones flecha</em> se conserva el del entorno externo.</p>
</li>
<li><p class="first">En funciones independendientes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">foobar</span><span class="p">()</span> <span class="p">{</span>
   <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">this</span><span class="p">);</span>  <span class="o">//</span> <span class="n">Objeto</span> <span class="k">global</span> <span class="n">o</span> <span class="n">undefined</span><span class="o">.</span>
<span class="p">}</span>
</pre></div>
</div>
<p>depende del modo: en modo estricto queda indefnido (<code class="docutils literal notranslate"><span class="pre">undefined</span></code>), mientras
que en otro caso, es el objetp global.</p>
</li>
<li><p class="first">En métodos de un objeto, representa al propio objeto:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="n">objeto</span> <span class="o">=</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="mi">3</span><span class="p">};</span>

<span class="n">objeto</span><span class="o">.</span><span class="n">foobar</span> <span class="o">=</span> <span class="n">function</span><span class="p">()</span> <span class="p">{</span>
   <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">a</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">objecto</span><span class="o">.</span><span class="n">foobar</span><span class="p">();</span>  <span class="o">//</span> <span class="n">Imprime</span> <span class="mf">1.</span>

<span class="o">//</span> <span class="n">Pero</span><span class="p">:</span>

<span class="n">foobar2</span> <span class="o">=</span> <span class="n">objeto</span><span class="o">.</span><span class="n">foobar</span><span class="p">;</span>

<span class="n">foobar2</span><span class="p">();</span>  <span class="o">//</span> <span class="n">Imprime</span> <span class="n">undefined</span> <span class="n">en</span> <span class="n">modo</span> <span class="n">estricto</span> <span class="p">(</span><span class="n">error</span> <span class="n">en</span> <span class="n">otro</span> <span class="n">caso</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p>Una función también podemos considerarla un objeto:</p>
<div class="last highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">ABC</span><span class="p">()</span> <span class="p">{}</span>
<span class="nx">ABC</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="nx">ABC</span><span class="p">.</span><span class="nx">foobar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">ABC</span><span class="p">.</span><span class="nx">foobar</span><span class="p">();</span>  <span class="c1">// Imprime 1.</span>
</pre></div>
</div>
</div>
</li>
<li><p class="first">Y aunque se entenderá al tratar el modelo de objetos, dentro de las funciones
constructoras y en los métodos del prototipo de dicho constructor,
<code class="code docutils literal notranslate"><span class="pre">this</span></code> representa al propio objeto:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Constructor</span>
<span class="n">function</span> <span class="n">Foobar</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="p">{</span>
   <span class="n">this</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">Foobar</span><span class="o">.</span><span class="n">prototype</span><span class="o">.</span><span class="n">metodo</span> <span class="o">=</span> <span class="n">functioN</span><span class="p">()</span> <span class="p">{</span>
   <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">a</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">const</span> <span class="n">objeto</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Foobar</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>  <span class="o">//</span> <span class="n">Se</span> <span class="n">asigna</span> <span class="mi">1</span> <span class="n">a</span> <span class="n">objeto</span><span class="o">.</span><span class="n">a</span><span class="p">;</span>
<span class="n">objeto</span><span class="o">.</span><span class="n">metodo</span><span class="p">();</span>  <span class="o">//</span> <span class="n">Imprime</span> <span class="mf">1.</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="manipulacion-de-this">
<h4>1.3.3.2. Manipulación de <code class="docutils literal notranslate"><span class="pre">this</span></code><a class="headerlink" href="#manipulacion-de-this" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Aunque lo establecido bajo el epígrafe anterior son los valores que adquiere
<code class="docutils literal notranslate"><span class="pre">this</span></code> dependendiendo de cómo se haya definido la función, es posible alterar
dinámicamente el contexto a través de diversas herramientas. Para ilustrarlas
tomemos de ejemplo la función:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">foobar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span>
   <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s2">&quot;this&quot;</span><span class="o">.</span> <span class="n">this</span><span class="p">);</span>
   <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;--&quot;</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="docutils">
<dt><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind">.bind()</a></dt>
<dd><p class="first">Permite crear una nueva función en que se definen de antemano el objeto <code class="code docutils literal notranslate"><span class="pre">this</span></code>
y todos los argumentos que se le proporcionen:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="n">barfoo</span> <span class="o">=</span> <span class="n">foobar</span><span class="o">.</span><span class="n">bind</span><span class="p">({},</span> <span class="mi">1</span><span class="p">);</span>  <span class="o">//</span> <span class="n">Proporcionamos</span> <span class="n">this</span> <span class="n">y</span> <span class="n">el</span> <span class="n">primer</span> <span class="n">argumento</span><span class="o">.</span>
<span class="n">barfoo</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>                          <span class="o">//</span> <span class="n">this</span><span class="o">=</span> <span class="p">{};</span> <span class="n">x</span><span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">y</span><span class="o">=</span> <span class="mf">2.</span>
</pre></div>
</div>
<div class="last admonition note">
<p class="first admonition-title">Nota</p>
<p><code class="docutils literal notranslate"><span class="pre">.bind()</span></code> puede cumplir la función que hace <a class="reference external" href="https://docs.python.org/3.7/library/functools.html#partial-objects">partial</a> en
<em>Python</em>, aunque tiene el efecto añadido de modificar el objeto
<code class="code docutils literal notranslate"><span class="pre">this</span></code>. Para una solución que no lo modifique puede usarse el
siguiente código:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="n">partial</span> <span class="o">=</span> <span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="o">...</span><span class="n">args</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="o">...</span><span class="n">rest</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">func</span><span class="p">(</span><span class="o">..</span><span class="n">args</span><span class="p">,</span> <span class="o">...</span><span class="n">rest</span><span class="p">);</span>
</pre></div>
</div>
</div>
</dd>
<dt><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call">.call()</a></dt>
<dd><p class="first">Ejecuta la función permitiendo modificar el objeto <code class="code docutils literal notranslate"><span class="pre">this</span></code>, que pasa a
ser el primer argumento:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">foobar</span><span class="o">.</span><span class="n">call</span><span class="p">({},</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">):</span>  <span class="o">//</span> <span class="n">this</span><span class="o">=</span> <span class="p">{};</span> <span class="n">x</span><span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">y</span><span class="o">=</span> <span class="mf">2.</span>
</pre></div>
</div>
</dd>
<dt><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply">.apply()</a></dt>
<dd><p class="first">Actúa como <code class="docutils literal notranslate"><span class="pre">.call()</span></code> modificando el objeto <code class="code docutils literal notranslate"><span class="pre">thus</span></code>, pero pasa el resto
de argumentos en forma de <em>array</em>:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">foobar</span><span class="o">.</span><span class="n">apply</span><span class="p">({},</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]);</span>  <span class="o">//</span> <span class="n">this</span><span class="o">=</span> <span class="p">{};</span> <span class="n">x</span><span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">y</span><span class="o">=</span> <span class="mf">2.</span>
</pre></div>
</div>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Las definiciones hechas con <code class="code docutils literal notranslate"><span class="pre">.bind()</span></code> provocan que quede anulado
el efecto de <code class="docutils literal notranslate"><span class="pre">.call()</span></code> y <code class="docutils literal notranslate"><span class="pre">.apply()</span></code>.</p>
</div>
</div>
</div>
</div>
<div class="section" id="modelo-de-objetos">
<span id="object-model"></span><h2>1.4. Modelo de objetos<a class="headerlink" href="#modelo-de-objetos" title="Enlazar permanentemente con este título">¶</a></h2>
</div>
<div class="section" id="enlaces-de-interes">
<h2>1.5. Enlaces de interés<a class="headerlink" href="#enlaces-de-interes" title="Enlazar permanentemente con este título">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://zendev.com/2018/10/01/javascript-arrow-functions-how-why-when.html">JavaScript Arrow Functions: How, Why, When (and WHEN NOT) to Use Them</a>.</li>
<li><a class="reference external" href="http://ryanmorr.com/understanding-scope-and-context-in-javascript/">Understanding Scope and Context in JavaScript</a>.</li>
<li><a class="reference external" href="https://www.freecodecamp.org/news/lets-learn-javascript-closures-66feb44f6a44/">Let’s Learn JavaScript Closures</a>.</li>
<li><a class="reference external" href="https://medium.com/&#64;5066aman/lexical-environment-the-hidden-part-to-understand-closures-71d60efac0e0">Lexical Environment — The hidden part to understand Closures</a>.</li>
<li><a class="reference external" href="https://dev.venntro.com/2013/09/es6-part-2/">https://dev.venntro.com/2013/09/es6-part-2/</a>.</li>
</ul>
<p class="rubric">Notas al pie</p>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>En modo estricto, se produce un error.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[2]</td><td>Ya veremos que en un navegador el objeto global es <em>window</em>, de ahí la
equivalencia.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">1. Particularidades</a><ul>
<li><a class="reference internal" href="#generalidades">1.1. Generalidades</a><ul>
<li><a class="reference internal" href="#caracteristicas">1.1.1. Características</a></li>
<li><a class="reference internal" href="#versiones">1.1.2. Versiones</a></li>
<li><a class="reference internal" href="#modo-estricto">1.1.3. Modo estricto</a></li>
<li><a class="reference internal" href="#bucles-for">1.1.4. Bucles <code class="code docutils literal notranslate"><span class="pre">for</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#variables">1.2. Variables</a><ul>
<li><a class="reference internal" href="#declaracion">1.2.1. Declaración</a></li>
<li><a class="reference internal" href="#tipos">1.2.2. Tipos</a></li>
<li><a class="reference internal" href="#contexto-de-ejecucion">1.2.3. Contexto de ejecución</a></li>
<li><a class="reference internal" href="#entornos">1.2.4. Entornos</a></li>
<li><a class="reference internal" href="#objeto-global">1.2.5. Objeto global</a></li>
<li><a class="reference internal" href="#objeto-this">1.2.6. Objeto <code class="code docutils literal notranslate"><span class="pre">this</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#id3">1.3. Funciones</a><ul>
<li><a class="reference internal" href="#sintaxis">1.3.1. Sintaxis</a></li>
<li><a class="reference internal" href="#argumentos">1.3.2. Argumentos</a></li>
<li><a class="reference internal" href="#contexto">1.3.3. Contexto</a><ul>
<li><a class="reference internal" href="#this-predeterninado">1.3.3.1. <code class="docutils literal notranslate"><span class="pre">this</span></code> predeterninado</a></li>
<li><a class="reference internal" href="#manipulacion-de-this">1.3.3.2. Manipulación de <code class="docutils literal notranslate"><span class="pre">this</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#modelo-de-objetos">1.4. Modelo de objetos</a></li>
<li><a class="reference internal" href="#enlaces-de-interes">1.5. Enlaces de interés</a></li>
</ul>
</li>
</ul>

  <h4>Tema anterior</h4>
  <p class="topless"><a href="../index.html"
                        title="capítulo anterior">Javascript</a></p>
  <h4>Próximo tema</h4>
  <p class="topless"><a href="../02.node/index.html"
                        title="próximo capítulo">2. NodeJS</a></p>
  <div role="note" aria-label="source link">
    <h3>Esta página</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/01.partic/index.rst.txt"
            rel="nofollow">Mostrar el código</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Búsqueda rápida</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Ir a" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="../02.node/index.html" title="2. NodeJS"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Javascript"
             >anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">documentación de Javascript - </a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Derechos de autor 2019, José Miguel Sánchez Alés.
      Creado con <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>